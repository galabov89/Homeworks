<!DOCTYPE html>
<html>
<body>
    <div>first div</div>
    <div>second div</div>
    <div class="empty"></div>
    <div>third div<div>inner div</div></div>
    <ul id="result"></ul>

    <script>
        var divs = document.getElementsByTagName('div'),
            list = document.getElementById('result'),
            item = document.createElement('li'),
            allItemsFragment = document.createDocumentFragment();

        for(var div in divs) {
            if(divs[div].tagName === 'DIV' && divs[div].innerText !== "") {
                var li = item.cloneNode(true);
                li.innerText = divs[div].innerText;
                allItemsFragment.appendChild(li);
            }
        }

        list.appendChild(allItemsFragment);

    </script>

</body>
</html>